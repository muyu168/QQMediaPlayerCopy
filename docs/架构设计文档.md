# QQMediaPlayerCopy æ¶æ„è®¾è®¡æ–‡æ¡£

## ğŸ“‹ æ–‡æ¡£ä¿¡æ¯

- **é¡¹ç›®åç§°**: QQMediaPlayerCopy
- **ç‰ˆæœ¬**: 1.0.0
- **ä½œè€…**: muyu147
- **æœ€åæ›´æ–°**: 2026-01-22

---

## ğŸ¯ é¡¹ç›®æ¦‚è¿°

### é¡¹ç›®ç®€ä»‹
QQMediaPlayerCopy æ˜¯ä¸€ä¸ªåŸºäº Qt å’Œ libVLC çš„è·¨å¹³å°éŸ³è§†é¢‘æ’­æ”¾å™¨ï¼Œæ¨¡ä»¿ QQ å½±éŸ³çš„ç•Œé¢å’ŒåŠŸèƒ½ã€‚é¡¹ç›®é‡‡ç”¨æ¨¡å—åŒ–è®¾è®¡ï¼Œæ”¯æŒå¤šç§è§†é¢‘æ ¼å¼å’Œç½‘ç»œæµæ’­æ”¾ã€‚

### æŠ€æœ¯æ ˆ
- **UI æ¡†æ¶**: Qt 6.3.0 (C++)
- **åª’ä½“å¼•æ“**: libVLC 3.0.8
- **å¼€å‘ç¯å¢ƒ**: Visual Studio 2022
- **å¹³å°**: Windows 11 x64

### æ ¸å¿ƒåŠŸèƒ½
- âœ… æœ¬åœ°è§†é¢‘æ–‡ä»¶æ’­æ”¾ï¼ˆmp4, avi, flvç­‰ï¼‰
- âœ… ç½‘ç»œæµæ’­æ”¾ï¼ˆhttp, rtsp, rtmpï¼‰
- âœ… æ’­æ”¾åˆ—è¡¨ç®¡ç†
- âœ… æ’­æ”¾æ§åˆ¶ï¼ˆæ’­æ”¾/æš‚åœ/åœæ­¢/ä¸Šä¸€é¦–/ä¸‹ä¸€é¦–ï¼‰
- âœ… è¿›åº¦æ¡æ‹–æ‹½
- âœ… éŸ³é‡æ§åˆ¶
- âœ… å€é€Ÿæ’­æ”¾ï¼ˆ0.5x ~ 2.0xï¼‰
- âœ… å…¨å±æ¨¡å¼
- âœ… è‡ªå®šä¹‰æ— è¾¹æ¡†çª—å£
- âœ… çª—å£æ‹–æ‹½å’Œç¼©æ”¾

---

## ğŸ—ï¸ ç³»ç»Ÿæ¶æ„

### æ•´ä½“æ¶æ„å›¾

```mermaid
graph TB
    subgraph "è¡¨ç°å±‚ Presentation Layer"
        A[MainWindow ä¸»çª—å£]
        B[CTitleBar æ ‡é¢˜æ ]
        C[VideoWidget è§†é¢‘æ˜¾ç¤ºåŒº]
        D[CPlayCtrlBar æ’­æ”¾æ§åˆ¶æ ]
        E[CPlayListWidget æ’­æ”¾åˆ—è¡¨]
    end

    subgraph "ä¸šåŠ¡é€»è¾‘å±‚ Business Logic Layer"
        F[CVlcKits VLCå°è£…ç±»]
    end

    subgraph "ç¬¬ä¸‰æ–¹åº“å±‚ Third-party Library Layer"
        G[libVLC åª’ä½“å¼•æ“]
    end

    A --> B
    A --> C
    A --> D
    A --> E
    A --> F
    F --> G

    style A fill:#e1f5ff
    style F fill:#fff3e0
    style G fill:#f3e5f5
```

### åˆ†å±‚è¯´æ˜

#### 1. è¡¨ç°å±‚ï¼ˆPresentation Layerï¼‰
è´Ÿè´£ç”¨æˆ·ç•Œé¢çš„å±•ç¤ºå’Œç”¨æˆ·äº¤äº’

- **MainWindow**: ä¸»çª—å£å®¹å™¨ï¼Œç®¡ç†æ‰€æœ‰å­ç»„ä»¶
- **CTitleBar**: è‡ªå®šä¹‰æ ‡é¢˜æ ï¼ŒåŒ…å«èœå•å’Œçª—å£æ§åˆ¶æŒ‰é’®
- **VideoWidget**: è§†é¢‘æ¸²æŸ“åŒºåŸŸï¼Œæ¥æ”¶ libVLC çš„è§†é¢‘è¾“å‡º
- **CPlayCtrlBar**: æ’­æ”¾æ§åˆ¶æ ï¼ŒåŒ…å«æ’­æ”¾æŒ‰é’®ã€è¿›åº¦æ¡ã€éŸ³é‡æ§åˆ¶ç­‰
- **CPlayListWidget**: æ’­æ”¾åˆ—è¡¨ç®¡ç†ç•Œé¢

#### 2. ä¸šåŠ¡é€»è¾‘å±‚ï¼ˆBusiness Logic Layerï¼‰
å°è£…åª’ä½“æ’­æ”¾çš„æ ¸å¿ƒé€»è¾‘

- **CVlcKits**: libVLC çš„ C++ å°è£…ç±»ï¼Œæä¾›é¢å‘å¯¹è±¡çš„æ¥å£

#### 3. ç¬¬ä¸‰æ–¹åº“å±‚ï¼ˆThird-party Library Layerï¼‰
åº•å±‚åª’ä½“å¤„ç†å¼•æ“

- **libVLC**: VideoLAN æä¾›çš„è·¨å¹³å°åª’ä½“æ’­æ”¾åº“

---

## ğŸ“¦ æ¨¡å—è®¾è®¡

### 1. MainWindowï¼ˆä¸»çª—å£æ¨¡å—ï¼‰

#### èŒè´£
- ç®¡ç†æ‰€æœ‰å­ç»„ä»¶çš„ç”Ÿå‘½å‘¨æœŸ
- å¤„ç†çª—å£äº‹ä»¶ï¼ˆæ‹–æ‹½ã€ç¼©æ”¾ã€å…¨å±ï¼‰
- åè°ƒå„æ¨¡å—ä¹‹é—´çš„é€šä¿¡

#### ç±»å›¾
```mermaid
classDiagram
    class CMainWindow {
        -CTitleBar* m_pTitleBar
        -VideoWidget* m_pVideoWidget
        -CPlayCtrlBar* m_pPlayCtrlBar
        -CPlayListWidget* m_pPlayListWidget
        -CVlcKits* m_pVlcKits
        -MousePosition m_mousePosition
        -QPoint m_mouseStartPos
        -bool m_bMousePressed

        +CMainWindow()
        -InitUI()
        #mousePressEvent()
        #mouseMoveEvent()
        #mouseReleaseEvent()
        #resizeEvent()
        -SetMouseCursor()
        -GetMouseRegion()
    }

    CMainWindow --> CTitleBar
    CMainWindow --> VideoWidget
    CMainWindow --> CPlayCtrlBar
    CMainWindow --> CPlayListWidget
    CMainWindow --> CVlcKits
```

#### æ ¸å¿ƒåŠŸèƒ½å®ç°

**1. æ— è¾¹æ¡†çª—å£å®ç°**
```cpp
// MainWindow.cpp
CMainWindow::CMainWindow(QWidget *parent)
    : QWidget(parent)
{
    // è®¾ç½®æ— è¾¹æ¡†çª—å£
    setWindowFlags(Qt::FramelessWindowHint);

    // è®¾ç½®æœ€å°å°ºå¯¸
    setMinimumSize(kMinWindowWidth, kMinWindowHeight);
}
```

**2. çª—å£æ‹–æ‹½å®ç°**
```cpp
void CMainWindow::mousePressEvent(QMouseEvent* event)
{
    if (event->button() == Qt::LeftButton) {
        m_bMousePressed = true;
        m_mouseStartPos = event->globalPos() - this->frameGeometry().topLeft();
    }
}

void CMainWindow::mouseMoveEvent(QMouseEvent* event)
{
    if (m_bMousePressed && m_mousePosition == kMousePositionMid) {
        // æ‹–æ‹½çª—å£
        move(event->globalPos() - m_mouseStartPos);
    }
    else if (m_bMousePressed) {
        // ç¼©æ”¾çª—å£ï¼ˆæ ¹æ®é¼ æ ‡ä½ç½®ï¼‰
        ResizeWindow(event->globalPos());
    }
}
```

**3. 9å®«æ ¼çª—å£ç¼©æ”¾**
```cpp
MousePosition CMainWindow::GetMouseRegion(const QPoint& pos)
{
    int x = pos.x();
    int y = pos.y();
    int w = width();
    int h = height();

    // å·¦ä¸Šè§’
    if (x < kMouseRegionLeft && y < kMouseRegionTop)
        return kMousePositionLeftTop;
    // ä¸Šè¾¹
    else if (x >= kMouseRegionLeft && x < w - kMouseRegionRight && y < kMouseRegionTop)
        return kMousePositionTop;
    // å³ä¸Šè§’
    else if (x >= w - kMouseRegionRight && y < kMouseRegionTop)
        return kMousePositionRightTop;
    // ... å…¶ä»–8ä¸ªåŒºåŸŸ
}
```

---

### 2. CVlcKitsï¼ˆVLCå°è£…æ¨¡å—ï¼‰

#### èŒè´£
- å°è£… libVLC çš„ C æ¥å£ä¸º C++ ç±»
- ç®¡ç†åª’ä½“æ’­æ”¾å™¨çš„ç”Ÿå‘½å‘¨æœŸ
- æä¾›æ’­æ”¾æ§åˆ¶æ¥å£
- å‘é€æ’­æ”¾çŠ¶æ€ä¿¡å·

#### ç±»å›¾
```mermaid
classDiagram
    class CVlcKits {
        -libvlc_instance_t* m_pInstance
        -libvlc_media_player_t* m_pMediaPlayer
        -libvlc_media_t* m_pMedia
        -libvlc_media_list_t* m_pMediaList
        -vector~libvlc_time_t~ m_vecDuration
        -int m_currentIndex

        +initVLC() int
        +play(QStringList, void*) int
        +play(QString, void*) int
        +play() void
        +pause() void
        +stop() void
        +setVideoPostion(int) void
        +setPlayRate(double) void
        +getDuration() libvlc_time_t

        ~sig_TimeSliderPosChanged(int)
        ~sig_VolumeSliderPosChanged(int)
        ~sig_TimeTextChanged(QString)
    }
```

#### æ ¸å¿ƒåŠŸèƒ½å®ç°

**1. VLC åˆå§‹åŒ–**
```cpp
int CVlcKits::initVLC()
{
    // åˆ›å»º VLC å®ä¾‹
    const char* args[] = {
        "--no-xlib",  // ä¸ä½¿ç”¨ X11
        "--quiet"     // é™é»˜æ¨¡å¼
    };

    m_pInstance = libvlc_new(sizeof(args) / sizeof(args[0]), args);
    if (!m_pInstance) {
        return -1;
    }

    // åˆ›å»ºåª’ä½“æ’­æ”¾å™¨
    m_pMediaPlayer = libvlc_media_player_new(m_pInstance);
    if (!m_pMediaPlayer) {
        return -1;
    }

    return 0;
}
```

**2. æ’­æ”¾æ–‡ä»¶**
```cpp
int CVlcKits::play(const QString& url, void* hwnd)
{
    // åˆ›å»ºåª’ä½“å¯¹è±¡
    m_pMedia = libvlc_media_new_path(m_pInstance, url.toUtf8().data());
    if (!m_pMedia) {
        return -1;
    }

    // è®¾ç½®åª’ä½“åˆ°æ’­æ”¾å™¨
    libvlc_media_player_set_media(m_pMediaPlayer, m_pMedia);

    // è®¾ç½®è§†é¢‘è¾“å‡ºçª—å£ï¼ˆWindows HWNDï¼‰
    libvlc_media_player_set_hwnd(m_pMediaPlayer, hwnd);

    // å¼€å§‹æ’­æ”¾
    libvlc_media_player_play(m_pMediaPlayer);

    return 0;
}
```

**3. æ’­æ”¾æ§åˆ¶**
```cpp
void CVlcKits::pause()
{
    if (m_pMediaPlayer) {
        libvlc_media_player_pause(m_pMediaPlayer);
    }
}

void CVlcKits::setVideoPostion(int value)
{
    if (m_pMediaPlayer) {
        // value: 0-100 çš„ç™¾åˆ†æ¯”
        float pos = value / 100.0f;
        libvlc_media_player_set_position(m_pMediaPlayer, pos);
    }
}

void CVlcKits::setPlayRate(double rate)
{
    if (m_pMediaPlayer) {
        libvlc_media_player_set_rate(m_pMediaPlayer, rate);
    }
}
```

---

### 3. CTitleBarï¼ˆæ ‡é¢˜æ æ¨¡å—ï¼‰

#### èŒè´£
- æ˜¾ç¤ºåº”ç”¨æ ‡é¢˜å’Œå›¾æ ‡
- æä¾›æ–‡ä»¶æ‰“å¼€èœå•
- æä¾›çª—å£æ§åˆ¶æŒ‰é’®ï¼ˆæœ€å°åŒ–ã€æœ€å¤§åŒ–ã€å…³é—­ï¼‰
- æä¾›ç½®é¡¶å’Œè¿·ä½ æ¨¡å¼åˆ‡æ¢

#### ä¿¡å·æ§½è®¾è®¡
```cpp
signals:
    void sig_close();           // å…³é—­çª—å£
    void sig_max();             // æœ€å¤§åŒ–
    void sig_min();             // æœ€å°åŒ–
    void sig_openFile();        // æ‰“å¼€æ–‡ä»¶
    void sig_openFolder();      // æ‰“å¼€æ–‡ä»¶å¤¹
    void sig_openNetStream();   // æ‰“å¼€ç½‘ç»œæµ
```

---

### 4. CPlayCtrlBarï¼ˆæ’­æ”¾æ§åˆ¶æ æ¨¡å—ï¼‰

#### èŒè´£
- æ˜¾ç¤ºæ’­æ”¾è¿›åº¦æ¡
- æä¾›æ’­æ”¾æ§åˆ¶æŒ‰é’®
- æ˜¾ç¤ºå½“å‰æ—¶é—´å’Œæ€»æ—¶é•¿
- æä¾›éŸ³é‡æ§åˆ¶
- æä¾›å€é€Ÿæ§åˆ¶

#### ç»„ä»¶ç»„æˆ
```mermaid
graph LR
    A[CPlayCtrlBar] --> B[CTimeSlider è¿›åº¦æ¡]
    A --> C[CPlayButtonGroupWidget æŒ‰é’®ç»„]
    A --> D[CVolumeButton éŸ³é‡æŒ‰é’®]
    A --> E[å€é€ŸæŒ‰é’®]
    A --> F[å…¨å±æŒ‰é’®]
```

---

### 5. VideoWidgetï¼ˆè§†é¢‘æ˜¾ç¤ºæ¨¡å—ï¼‰

#### èŒè´£
- æä¾›è§†é¢‘æ¸²æŸ“çª—å£
- å¤„ç†åŒå‡»å…¨å±äº‹ä»¶
- æ˜¾ç¤ºé¡¶éƒ¨æ‚¬æµ®æ§ä»¶

#### å…³é”®æŠ€æœ¯ç‚¹
```cpp
class VideoWidget : public QWidget
{
public:
    VideoWidget(QWidget* parent = nullptr)
    {
        // è®¾ç½®é»‘è‰²èƒŒæ™¯
        setStyleSheet("background-color: black;");

        // è·å–çª—å£å¥æŸ„ä¼ é€’ç»™ libVLC
        HWND hwnd = (HWND)this->winId();
    }

protected:
    void mouseDoubleClickEvent(QMouseEvent* event) override
    {
        // åŒå‡»å…¨å±
        emit sig_fullScreen();
    }
};
```

---

## ğŸ”„ æ ¸å¿ƒæµç¨‹

### æ’­æ”¾æµç¨‹æ—¶åºå›¾

```mermaid
sequenceDiagram
    participant User as ç”¨æˆ·
    participant TitleBar as CTitleBar
    participant MainWindow as CMainWindow
    participant VlcKits as CVlcKits
    participant libVLC as libVLCåº“
    participant VideoWidget as VideoWidget

    User->>TitleBar: ç‚¹å‡»"æ‰“å¼€æ–‡ä»¶"
    TitleBar->>MainWindow: sig_openFile()
    MainWindow->>MainWindow: æ˜¾ç¤ºæ–‡ä»¶é€‰æ‹©å¯¹è¯æ¡†
    MainWindow->>VlcKits: play(fileList, hwnd)
    VlcKits->>libVLC: libvlc_media_new_path()
    VlcKits->>libVLC: libvlc_media_player_set_media()
    VlcKits->>libVLC: libvlc_media_player_set_hwnd()
    VlcKits->>libVLC: libvlc_media_player_play()
    libVLC-->>VideoWidget: æ¸²æŸ“è§†é¢‘å¸§
    VideoWidget-->>User: æ˜¾ç¤ºè§†é¢‘
```

### è¿›åº¦æ¡åŒæ­¥æµç¨‹

```mermaid
sequenceDiagram
    participant Timer as QTimer
    participant VlcKits as CVlcKits
    participant PlayCtrlBar as CPlayCtrlBar
    participant TimeSlider as CTimeSlider

    loop æ¯100ms
        Timer->>VlcKits: å®šæ—¶å™¨è§¦å‘
        VlcKits->>VlcKits: libvlc_media_player_get_time()
        VlcKits->>VlcKits: è®¡ç®—è¿›åº¦ç™¾åˆ†æ¯”
        VlcKits->>PlayCtrlBar: sig_TimeSliderPosChanged(pos)
        PlayCtrlBar->>TimeSlider: setValue(pos)
        TimeSlider->>TimeSlider: æ›´æ–°æ»‘å—ä½ç½®
    end
```

---

## ğŸ¨ è®¾è®¡æ¨¡å¼åº”ç”¨

### 1. è§‚å¯Ÿè€…æ¨¡å¼ï¼ˆObserver Patternï¼‰
**åº”ç”¨åœºæ™¯**: Qt çš„ä¿¡å·æ§½æœºåˆ¶

```cpp
// å‘å¸ƒè€…
class CVlcKits : public QObject {
signals:
    void sig_TimeSliderPosChanged(int pos);
};

// è®¢é˜…è€…
class CPlayCtrlBar : public QWidget {
public slots:
    void onTimeSliderPosChanged(int pos) {
        m_pTimeSlider->setValue(pos);
    }
};

// è¿æ¥
connect(m_pVlcKits, &CVlcKits::sig_TimeSliderPosChanged,
        m_pPlayCtrlBar, &CPlayCtrlBar::onTimeSliderPosChanged);
```

### 2. å¤–è§‚æ¨¡å¼ï¼ˆFacade Patternï¼‰
**åº”ç”¨åœºæ™¯**: CVlcKits å°è£… libVLC å¤æ‚æ¥å£

```cpp
// å¤æ‚çš„ libVLC C æ¥å£
libvlc_instance_t* inst = libvlc_new(...);
libvlc_media_player_t* player = libvlc_media_player_new(inst);
libvlc_media_t* media = libvlc_media_new_path(inst, path);
libvlc_media_player_set_media(player, media);
libvlc_media_player_play(player);

// ç®€åŒ–çš„ CVlcKits æ¥å£
CVlcKits vlc;
vlc.initVLC();
vlc.play("video.mp4", hwnd);
```

### 3. å•ä¾‹æ¨¡å¼ï¼ˆSingleton Patternï¼‰
**å»ºè®®åº”ç”¨**: å…¨å±€æ’­æ”¾å™¨ç®¡ç†å™¨ï¼ˆå¯æ‰©å±•ï¼‰

```cpp
class PlayerManager {
private:
    static PlayerManager* instance;
    CVlcKits* m_pVlcKits;

    PlayerManager() {
        m_pVlcKits = new CVlcKits();
    }

public:
    static PlayerManager* getInstance() {
        if (!instance) {
            instance = new PlayerManager();
        }
        return instance;
    }

    CVlcKits* getPlayer() { return m_pVlcKits; }
};
```

---

## ğŸ”§ æŠ€æœ¯é€‰å‹

### ä¸ºä»€ä¹ˆé€‰æ‹© Qtï¼Ÿ
| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| è·¨å¹³å° | ä¸€å¥—ä»£ç å¯åœ¨ Windows/Linux/macOS è¿è¡Œ |
| ä¸°å¯Œçš„ UI ç»„ä»¶ | æä¾›å®Œæ•´çš„æ¡Œé¢åº”ç”¨å¼€å‘ç»„ä»¶ |
| ä¿¡å·æ§½æœºåˆ¶ | ä¼˜é›…çš„äº‹ä»¶å¤„ç†æ–¹å¼ |
| æˆç†Ÿç¨³å®š | å¤§é‡å•†ä¸šåº”ç”¨éªŒè¯ |

### ä¸ºä»€ä¹ˆé€‰æ‹© libVLCï¼Ÿ
| ä¼˜åŠ¿ | è¯´æ˜ |
|------|------|
| æ ¼å¼æ”¯æŒå¹¿ | æ”¯æŒå‡ ä¹æ‰€æœ‰éŸ³è§†é¢‘æ ¼å¼ |
| æ€§èƒ½ä¼˜ç§€ | ç¡¬ä»¶åŠ é€Ÿæ”¯æŒ |
| è·¨å¹³å° | ä¸ Qt é…åˆå®ç°çœŸæ­£çš„è·¨å¹³å° |
| å¼€æºå…è´¹ | LGPL åè®®ï¼Œå•†ä¸šå‹å¥½ |

### ä¸ºä»€ä¹ˆä¸ç”¨ Qt Multimediaï¼Ÿ
| Qt Multimedia | libVLC |
|---------------|--------|
| æ ¼å¼æ”¯æŒæœ‰é™ | æ”¯æŒæ‰€æœ‰æ ¼å¼ |
| ä¾èµ–ç³»ç»Ÿè§£ç å™¨ | å†…ç½®è§£ç å™¨ |
| åŠŸèƒ½ç›¸å¯¹ç®€å• | åŠŸèƒ½å¼ºå¤§ |

---

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### 1. UI æ›´æ–°é¢‘ç‡æ§åˆ¶
```cpp
// ä½¿ç”¨å®šæ—¶å™¨æ§åˆ¶æ›´æ–°é¢‘ç‡ï¼Œé¿å…è¿‡åº¦åˆ·æ–°
QTimer* timer = new QTimer(this);
connect(timer, &QTimer::timeout, this, &CMainWindow::updateProgress);
timer->start(100);  // 100ms æ›´æ–°ä¸€æ¬¡ï¼Œäººçœ¼æ„ŸçŸ¥ä¸åˆ°å¡é¡¿
```

### 2. å¼‚æ­¥åŠ è½½
```cpp
// ä½¿ç”¨ Qt çš„çº¿ç¨‹æœºåˆ¶å¼‚æ­¥åŠ è½½å¤§æ–‡ä»¶
QFuture<void> future = QtConcurrent::run([this, filePath]() {
    m_pVlcKits->play(filePath, hwnd);
});
```

### 3. å†…å­˜ç®¡ç†
```cpp
// åˆ©ç”¨ Qt çš„çˆ¶å­å¯¹è±¡æ ‘è‡ªåŠ¨ç®¡ç†å†…å­˜
m_pTitleBar = new CTitleBar(this);  // this ä½œä¸ºçˆ¶å¯¹è±¡
// å½“ MainWindow é”€æ¯æ—¶ï¼Œm_pTitleBar è‡ªåŠ¨é”€æ¯
```

---

## ğŸš€ æ‰©å±•æ€§è®¾è®¡

### 1. æ”¯æŒå¤šç§æ’­æ”¾å¼•æ“
```cpp
// å®šä¹‰æ’­æ”¾å™¨æ¥å£
class IMediaPlayer {
public:
    virtual void play(const QString& url) = 0;
    virtual void pause() = 0;
    virtual void stop() = 0;
};

// VLC å®ç°
class VlcPlayer : public IMediaPlayer {
    void play(const QString& url) override { /* VLC å®ç° */ }
};

// FFmpeg å®ç°
class FFmpegPlayer : public IMediaPlayer {
    void play(const QString& url) override { /* FFmpeg å®ç° */ }
};
```

### 2. æ’ä»¶åŒ–æ¶æ„
```cpp
// æ’ä»¶æ¥å£
class IPlugin {
public:
    virtual QString name() = 0;
    virtual void initialize() = 0;
    virtual QWidget* createWidget() = 0;
};

// å­—å¹•æ’ä»¶
class SubtitlePlugin : public IPlugin {
    QString name() override { return "Subtitle"; }
    void initialize() override { /* åˆå§‹åŒ–å­—å¹•å¼•æ“ */ }
    QWidget* createWidget() override { return new SubtitleWidget(); }
};
```

---

## ğŸ› å·²çŸ¥é—®é¢˜ä¸æ”¹è¿›æ–¹å‘

### å½“å‰é—®é¢˜
1. âŒ æ²¡æœ‰æ’­æ”¾å†å²è®°å½•åŠŸèƒ½
2. âŒ ä¸æ”¯æŒå­—å¹•åŠ è½½
3. âŒ ç¼ºå°‘å¿«æ·é”®æ”¯æŒ
4. âŒ æ²¡æœ‰è§†é¢‘æˆªå›¾åŠŸèƒ½
5. âŒ æ’­æ”¾åˆ—è¡¨ä¸æ”¯æŒæ‹–æ‹½æ’åº

### æ”¹è¿›æ–¹å‘
1. âœ… ä½¿ç”¨ QSettings å®ç°é…ç½®æŒä¹…åŒ–
2. âœ… é›†æˆ libass å­—å¹•åº“
3. âœ… ä½¿ç”¨ QShortcut æ·»åŠ å¿«æ·é”®
4. âœ… ä½¿ç”¨ libvlc_video_take_snapshot() å®ç°æˆªå›¾
5. âœ… ä½¿ç”¨ QListWidget çš„æ‹–æ‹½åŠŸèƒ½

---

## ğŸ“š å‚è€ƒèµ„æ–™

- [Qt å®˜æ–¹æ–‡æ¡£](https://doc.qt.io/)
- [libVLC æ–‡æ¡£](https://www.videolan.org/developers/vlc/doc/doxygen/html/)
- [Qt ä¿¡å·æ§½æœºåˆ¶è¯¦è§£](https://doc.qt.io/qt-6/signalsandslots.html)
- [è®¾è®¡æ¨¡å¼](https://refactoring.guru/design-patterns)

---

## ğŸ“ æ›´æ–°æ—¥å¿—

| ç‰ˆæœ¬ | æ—¥æœŸ | æ›´æ–°å†…å®¹ |
|------|------|----------|
| 1.0.0 | 2026-01-22 | åˆå§‹ç‰ˆæœ¬ï¼Œå®ŒæˆåŸºç¡€æ¶æ„è®¾è®¡ |
